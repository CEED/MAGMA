#!/usr/bin/perl
#
# find occurances of ((n + nb - 1)/nb)*nb
# 

while( <> ) {
	if (    m@\(.*\+ *31 *\) */ *32 *\* *32@         #  (n+31)/32*32
	     or m@\(.*\+ *63 *\) */ *64 *\* *64@         #  (n+63)/64*64
	     
	     or m@\( *\(.*\+ *31\) */ *32 *\) *\* *32@   # ((n+31)/32)*32
	     or m@\( *\(.*\+ *63\) */ *64 *\) *\* *64@   # ((n+63)/64)*64
	     
	     or m@\(.*\+ *15 *\) */ *16@                 #  (n+15)/16
	     or m@\(.*\+ *31 *\) */ *32@                 #  (n+31)/32
	     or m@\(.*\+ *63 *\) */ *64@                 #  (n+63)/64
	     
	     or m@\(.*\+ *(\w+) *- *1 *\) */ *\1@        # (n+nb-1)/nb
	     or m@\(.*- *1 *\) */ *\w+ *\+ *1@           # (n-1)/nb+1
	     
	     or m@\+.*%.*!= *0@                          # n/nb + (n%nb != 0)
	) {
		#print $ARGV, "\n";
		printf( "%-32s %s", $ARGV.":", $_ );
	}
}
